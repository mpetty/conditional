!function(t){"object"==typeof exports?module.exports=t(jQuery):t(jQuery)}(function(s){"use strict";var a=function(t,e){this.settings=e,this.$selector=t,this.methods=[this.method];for(var i=0;i<this.settings.methods.length;i++)this.methods.push(this.settings.methods[i]);this.init()};a.prototype={method:{selector:"data-conditional-field",start:function(t,e){var i=e.not(t);if(i.hide().addClass("hide").each(function(){s(this).attr("data-conditional-reset")&&s("input,select,textarea",this).trigger("force-change").val("")}),t.show().removeClass("hide"),t.addClass("conditional-field"),t.addClass("highlight-field"),s("input, select, textarea",i).attr("disabled","disabled"),s("input, select, textarea",t).filter(':visible, [type="hidden"]').removeAttr("disabled").trigger("updated"),s('input[type="hidden"]',t).removeAttr("disabled"),t.data("conditional-update")){var a=t.data("conditional-update");a=a.split(",");for(var n=0;n<a.length;n++){var o=a[n].split(":");2===o.length&&s("input[name='"+o[0]+"']").val(o[1])}}setTimeout(function(){t.removeClass("highlight-field")},600)}},init:function(){var t,e,i={};for(var a in this.methods){e=this.methods[a];for(var n=(t=s("["+e.selector+"]",this.$selector)).length-1;0<=n;n--)(i={}).attr=s(t[n]).attr(e.selector),i.el=s('[name="'+i.attr+'"]'),i.el.data("conditional-method",e),i.el.data("conditional-data",i),i.el.off("force-change."+e.selector+" change."+e.selector).on("force-change."+e.selector+" change."+e.selector,s.proxy(this.trigger,this)),i.el.trigger("force-change."+e.selector)}},trigger:function(t){var e=s(t.currentTarget),i=e.data("conditional-method"),a=this.getVal(e).join(","),n=s("["+i.selector+'="'+e.attr("name")+'"]',this.$selector),o=s();n.each(function(){var t=s(this).attr("data-conditional-field-values");"string"==typeof t&&-1!==(t=t.split(",")).indexOf(a)&&(o=o.add(s(this)))}),i.start.call(this,o,n)},getVal:function(t){var e,i=[];return t&&("checkbox"===t.attr("type")?(e=t.filter(":checked")).each(function(){i.push(s(this).val())}):t.is("select")&&t.attr("multiple")?(e=t.find("option:selected")).each(function(){i.push(s(this).val())}):"radio"===t.attr("type")?(e=t.filter(":checked"),i.push(e.val())):i.push(t.val())),i}},s.fn.conditional=function(i){return this.each(function(){var t=s.extend(!0,{},s.fn.conditional.defaults,i),e=new a(this,t);return s(this).data("conditionals",e),this})},s.fn.conditional.defaults={methods:[]}});