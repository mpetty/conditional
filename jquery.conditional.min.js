!function(t){"object"==typeof exports?module.exports=t(jQuery):t(jQuery)}(function(o){"use strict";function i(t,e){this.settings=e,this.$selector=t,this.methods=[this.method];for(var i=0;i<this.settings.methods.length;i++)this.methods.push(this.settings.methods[i]);this.init()}i.prototype={method:{selector:"data-conditional-field",start:function(t,e){e=e.not(t);if(e.hide().addClass("hide").each(function(){o(this).attr("data-conditional-reset")&&o("input,select,textarea",this).trigger("force-change").val("")}),t.show().removeClass("hide"),t.addClass("conditional-field"),t.addClass("highlight-field"),o("input, select, textarea",e).attr("disabled","disabled"),o("input, select, textarea",t).filter(':visible, [type="hidden"]').removeAttr("disabled").trigger("updated"),o('input[type="hidden"]',t).removeAttr("disabled"),t.data("conditional-update"))for(var i=(i=t.data("conditional-update")).split(","),a=0;a<i.length;a++){var n=i[a].split(":");2===n.length&&o("input[name='"+n[0]+"']").val(n[1])}setTimeout(function(){t.removeClass("highlight-field")},600)}},init:function(){var t,e={};for(t in this.methods)for(var i,a=this.methods[t],n=(i=o("["+a.selector+"]",this.$selector)).length-1;0<=n;n--)(e={}).attr=o(i[n]).attr(a.selector),e.el=o('[name="'+e.attr+'"]'),e.el.data("conditional-method",a),e.el.data("conditional-data",e),e.el.off("force-change."+a.selector+" change."+a.selector).on("force-change."+a.selector+" change."+a.selector,o.proxy(this.trigger,this)),e.el.trigger("force-change."+a.selector)},trigger:function(t){var t=o(t.currentTarget),e=t.data("conditional-method"),i=this.getVal(t).join(","),t=o("["+e.selector+'="'+t.attr("name")+'"]',this.$selector),a=o();t.each(function(){var t=o(this).attr("data-conditional-field-values");"string"==typeof t&&-1!==(t=t.split(",")).indexOf(i)&&(a=a.add(o(this)))}),e.start.call(this,a,t)},getVal:function(t){var e,i=[];return t&&("checkbox"===t.attr("type")?(e=t.filter(":checked")).each(function(){i.push(o(this).val())}):t.is("select")&&t.attr("multiple")?(e=t.find("option:selected")).each(function(){i.push(o(this).val())}):"radio"===t.attr("type")?(e=t.filter(":checked"),i.push(e.val())):i.push(t.val())),i}},o.fn.conditional=function(e){return this.each(function(){var t=o.extend(!0,{},o.fn.conditional.defaults,e),t=new i(this,t);return o(this).data("conditionals",t),this})},o.fn.conditional.defaults={methods:[]}});